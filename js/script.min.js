function closePopup(){feedbackForm.classList.remove("popup-error"),feedbackForm.classList.remove("popup-visible"),feedbackFormOverlay.classList.remove("popup-visible")}var feedbackButton=document.querySelector(".map-form-btn"),feedbackForm=document.querySelector(".feedback-form"),feedbackFormOverlay=document.querySelector(".feedback-form-overlay"),feedbackNameInput=document.querySelector("#feedback-guest-name-input"),feedbackEmailInput=document.querySelector("#feedback-guest-email-input"),feedbackTextInput=document.querySelector("#feedback-guest-textarea-input"),feedbackDoneButton=document.querySelector("#feedback-form-button"),feedbackNameFromLocalStorage=localStorage.getItem("feedbackNameInput"),feedbackEmailFromLocalStorage=localStorage.getItem("feedbackEmailInput"),popupCloseBtn=document.querySelector(".popup-form-close-btn"),searchBtn=document.querySelector("#search-form-button"),searchBox=document.querySelector(".search-field-box");searchBtn&&searchBox&&(searchBtn.classList.add("hide-this"),searchBox.classList.add("search-field-box-auto-width")),feedbackButton.addEventListener("click",function(a){a.preventDefault(),feedbackForm.classList.add("popup-visible"),feedbackFormOverlay.classList.add("popup-visible"),feedbackNameFromLocalStorage?(feedbackNameInput.value=feedbackNameFromLocalStorage,feedbackEmailInput.value=feedbackEmailFromLocalStorage,feedbackTextInput.focus()):feedbackNameInput.focus()}),popupCloseBtn.addEventListener("click",function(a){a.preventDefault(),closePopup()}),feedbackFormOverlay.addEventListener("click",function(a){a.preventDefault(),closePopup()}),feedbackDoneButton.addEventListener("click",function(a){feedbackNameInput.value?feedbackEmailInput.value?feedbackTextInput.value||(feedbackForm.classList.add("popup-error"),feedbackTextInput.focus()):(feedbackForm.classList.add("popup-error"),feedbackEmailInput.focus()):(feedbackForm.classList.add("popup-error"),feedbackNameInput.focus())}),feedbackForm.addEventListener("submit",function(a){feedbackNameInput.value&&feedbackEmailInput.value&&feedbackTextInput.value?(localStorage.setItem("feedbackNameInput",feedbackNameInput.value),localStorage.setItem("feedbackEmailInput",feedbackEmailInput.value)):a.preventDefault()}),window.addEventListener("keydown",function(a){27===a.keyCode&&closePopup()});
